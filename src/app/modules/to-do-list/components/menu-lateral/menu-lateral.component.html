<div class="example-container dark example-is-mobile">
	<mat-toolbar class="example-toolbar">
		<button mat-icon-button (click)="snav.toggle()">
			<mat-icon>menu</mat-icon>
		</button>
		<h1 class="example-app-name">Menu Principal</h1>
	</mat-toolbar>

	<mat-sidenav-container class="example-sidenav-container">
		<mat-sidenav
			class="mat-sidenav"
			#snav
			[mode]="'over'"
			fixedTopGap="56"
			(closed)="closeMenu()"
			[(opened)]="menuOpened"
		>
			<div class="nav-container" [ngClass]="isMobile ? 'vertical-layout' : 'horizontal-layout'">
				<div *ngFor="let menuLevel of menuLevels; let i = index" class="column" [@columnAnimation]="'lateral'">
					<mat-list>
						@for (item of menuLevel; track item) {
							<mat-list-item (click)="toggleSubcategory(item, i + 1)" class="items">
								<div class="title">
									{{ item.name }}
									@if (item.subcategories && !isMobile) {
										@if (this.menuLevels[i + 1] === item.subcategories) {
											<mat-icon>keyboard_arrow_right</mat-icon>
										} @else {
											<mat-icon>keyboard_arrow_left</mat-icon>
										}
									} @else if (item.subcategories && isMobile) {
										@if (item.expanded) {
											<mat-icon>keyboard_arrow_up</mat-icon>
										} @else {
											<mat-icon>keyboard_arrow_down</mat-icon>
										}
									}
								</div>
							</mat-list-item>

							<div *ngIf="isMobile && item.expanded" class="submenu items" [@columnAnimation]="'collapse'">
								<app-menu-vertical
									[item]="item?.subcategories"
									[levelIndex]="1"
									[isMobile]="isMobile"
									[closeMenu]="menuOpened"
								></app-menu-vertical>
							</div>
						}
					</mat-list>
				</div>
			</div>
		</mat-sidenav>

		<mat-sidenav-content>
			<ng-content></ng-content>
		</mat-sidenav-content>
	</mat-sidenav-container>
</div>
